<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Farm Dashboard with History</title>
<style>
body { font-family: Arial; background:#cfe8cc; margin:0; padding:0; }
header { background:#4a7c59; color:white; text-align:center; padding:15px; }
section { background:white; margin:15px; padding:15px; border-radius:10px; }
button { background:#4a7c59; color:white; border:none; padding:10px; border-radius:8px; width:100%; margin-top:10px; cursor:pointer; }
button.reset { background:#b64545; }
textarea { width:100%; height:80px; }
table { width:100%; border-collapse: collapse; margin-top:15px; }
th, td { border:1px solid #999; padding:5px; text-align:center; }
th { background:#4a7c59; color:white; }
</style>
</head>
<body>

<header>
<h1>ğŸŒ¾ Farm Dashboard</h1>
<p>Submit and View All Daily Farm Data</p>
</header>

<section>
<h3>Daily Chores & Animal Check</h3>
<label><input type="checkbox" id="feedAnimals"> Feed animals</label><br>
<label><input type="checkbox" id="checkWater"> Check water</label><br>
<label><input type="checkbox" id="cleanStalls"> Clean stalls</label><br>
<label><input type="checkbox" id="equipmentCheck"> Equipment check</label><br>
<label><input type="checkbox" id="cowsOK"> Cows OK</label><br>
<label><input type="checkbox" id="horsesOK"> Horses OK</label><br>
<label><input type="checkbox" id="chickensOK"> Chickens OK</label><br>
<label><input type="checkbox" id="sickInjured"> Sick/Injured noted</label><br>
<label><input type="checkbox" id="allGatesClosed"> All gates closed</label><br>
<label><input type="checkbox" id="fencesChecked"> Fence lines checked</label><br>
<label><input type="checkbox" id="noDamage"> No breaks/damage</label><br>

<h3>Notes</h3>
<textarea id="notesArea" placeholder="Write anything important..."></textarea><br>

<button onclick="submitData()">âœ… Submit</button>
<button class="reset" onclick="resetData()">ğŸ” Reset All History</button>
</section>

<section>
<h3>All Submissions</h3>
<table id="historyTable">
    <thead>
        <tr>
            <th>#</th>
            <th>Date & Time</th>
            <th>Feed Animals</th>
            <th>Check Water</th>
            <th>Clean Stalls</th>
            <th>Equipment Check</th>
            <th>Cows OK</th>
            <th>Horses OK</th>
            <th>Chickens OK</th>
            <th>Sick/Injured</th>
            <th>All Gates Closed</th>
            <th>Fences Checked</th>
            <th>No Damage</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody id="historyBody">
        <!-- Submissions will appear here -->
    </tbody>
</table>
</section>

<script>
// Submit new entry
function submitData() {
    const data = {
        datetime: new Date().toLocaleString(),
        feedAnimals: document.getElementById('feedAnimals').checked,
        checkWater: document.getElementById('checkWater').checked,
        cleanStalls: document.getElementById('cleanStalls').checked,
        equipmentCheck: document.getElementById('equipmentCheck').checked,
        cowsOK: document.getElementById('cowsOK').checked,
        horsesOK: document.getElementById('horsesOK').checked,
        chickensOK: document.getElementById('chickensOK').checked,
        sickInjured: document.getElementById('sickInjured').checked,
        allGatesClosed: document.getElementById('allGatesClosed').checked,
        fencesChecked: document.getElementById('fencesChecked').checked,
        noDamage: document.getElementById('noDamage').checked,
        notes: document.getElementById('notesArea').value
    };

    // Get existing submissions
    let history = JSON.parse(localStorage.getItem('farmHistory')) || [];
    history.push(data); // Add new submission
    localStorage.setItem('farmHistory', JSON.stringify(history));

    alert("âœ… Submission added!");
    clearForm();
    displayHistory();
}

// Display all submissions
function displayHistory() {
    const tbody = document.getElementById('historyBody');
    tbody.innerHTML = ""; // clear table
    const history = JSON.parse(localStorage.getItem('farmHistory')) || [];

    history.forEach((entry, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${index+1}</td>
            <td>${entry.datetime}</td>
            <td>${entry.feedAnimals ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.checkWater ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.cleanStalls ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.equipmentCheck ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.cowsOK ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.horsesOK ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.chickensOK ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.sickInjured ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.allGatesClosed ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.fencesChecked ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.noDamage ? 'âœ…' : 'âŒ'}</td>
            <td>${entry.notes}</td>
        `;
        tbody.appendChild(row);
    });
}

// Reset all submissions
function resetData() {
    if (confirm("Are you sure you want to delete all history?")) {
        localStorage.removeItem('farmHistory');
        displayHistory();
    }
}

// Clear form
function clearForm() {
    document.querySelectorAll('input[type=checkbox]').forEach(cb => cb.checked = false);
    document.getElementById('notesArea').value = "";
}

// Display history on page load
window.onload = displayHistory;
</script>

</body>
</html>
