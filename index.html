<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Farm Dashboard with Tabs & History</title>
<style>
body { font-family: Arial; background:#cfe8cc; margin:0; padding:0; }
header { background:#4a7c59; color:white; text-align:center; padding:15px; }
.tabs { display:flex; background:#d3e0d0; }
.tab { flex:1; padding:12px; text-align:center; cursor:pointer; font-weight:bold; }
.tab.active { background:white; border-bottom:3px solid #4a7c59; }
.content { display:none; padding:20px; }
.content.active { display:block; }
section { background:white; margin-bottom:15px; padding:15px; border-radius:10px; }
button { background:#4a7c59; color:white; border:none; padding:10px; border-radius:8px; width:100%; margin-top:10px; cursor:pointer; }
button.reset { background:#b64545; }
textarea { width:100%; height:80px; }
table { width:100%; border-collapse: collapse; margin-top:15px; }
th, td { border:1px solid #999; padding:5px; text-align:center; }
th { background:#4a7c59; color:white; }
</style>
</head>
<body>

<header>
<h1>ğŸŒ¾ Farm Dashboard</h1>
<p>Submit tasks and view history</p>
</header>

<div class="tabs">
    <div class="tab active" onclick="openTab('formTab')">Submit Form</div>
    <div class="tab" onclick="openTab('historyTab')">History</div>
</div>

<!-- Form Tab -->
<div id="formTab" class="content active">
<section>
<h3>Daily Chores & Animal Check</h3>
<label><input type="checkbox" id="feedAnimals"> Feed animals</label><br>
<label><input type="checkbox" id="checkWater"> Check water</label><br>
<label><input type="checkbox" id="cleanStalls"> Clean stalls</label><br>
<label><input type="checkbox" id="equipmentCheck"> Equipment check</label><br>
<label><input type="checkbox" id="cowsOK"> Cows OK</label><br>
<label><input type="checkbox" id="horsesOK"> Horses OK</label><br>
<label><input type="checkbox" id="chickensOK"> Chickens OK</label><br>
<label><input type="checkbox" id="sickInjured"> Sick/Injured noted</label><br>
<label><input type="checkbox" id="allGatesClosed"> All gates closed</label><br>
<label><input type="checkbox" id="fencesChecked"> Fence lines checked</label><br>
<label><input type="checkbox" id="noDamage"> No breaks/damage</label><br>

<h3>Notes</h3>
<textarea id="notesArea" placeholder="Write anything important..."></textarea><br>

<button onclick="submitData()">âœ… Submit</button>
<button class="reset" onclick="resetData()">ğŸ” Reset All History</button>
</section>
</div>

<!-- History Tab -->
<div id="historyTab" class="content">
<section>
<h3>All Submissions</h3>
<table id="historyTable">
<thead>
<tr>
<th>#</th>
<th>Date & Time</th>
<th>Feed</th>
<th>Water</th>
<th>Clean</th>
<th>Equip</th>
<th>Cows</th>
<th>Horses</th>
<th>Chickens</th>
<th>Sick/Injured</th>
<th>Gates</th>
<th>Fences</th>
<th>No Damage</th>
<th>Notes</th>
</tr>
</thead>
<tbody id="historyBody">
</tbody>
</table>
</section>
</div>

<script>
// Tab navigation
function openTab(tabId) {
    document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    event.target.classList.add('active');
}

// Submit new entry
function submitData() {
    const data = {
        datetime: new Date().toLocaleString(),
        feedAnimals: document.getElementById('feedAnimals').checked,
        checkWater: document.getElementById('checkWater').checked,
        cleanStalls: document.getElementById('cleanStalls').checked,
        equipmentCheck: document.getElementById('equipmentCheck').checked,
        cowsOK: document.getElementById('cowsOK').checked,
        horsesOK: document.getElementById('horsesOK').checked,
        chickensOK: document.getElementById('chickensOK').checked,
        sickInjured: document.getElementById('sickInjured').checked,
        allGatesClosed: document.getElementById('allGatesClosed').checked,
        fencesChecked: document.getElementById('fencesChecked').checked,
        noDamage: document.getElementById('noDamage').checked,
        notes: document.getElementById('notesArea').value
    };

    let history = JSON.parse(localStorage.getItem('farmHistory')) || [];
    history.push(data);
    localStorage.setItem('farmHistory', JSON.stringify(history));

    alert("âœ… Submission added!");
    clearForm();
    displayHistory();
}

// Display all submissions
function displayHistory() {
    const tbody = document.getElementById('historyBody');
    tbody.innerHTML = "";
    const history = JSON.parse(localStorage.getItem('farmHistory')) || [];
    history.forEach((entry, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${index+1}</td>
            <td>${entry.datetime}</td>
            <td>${entry.feedAnimals ? 'âœ…':'âŒ'}</td>
            <td>${entry.checkWater ? 'âœ…':'âŒ'}</td>
            <td>${entry.cleanStalls ? 'âœ…':'âŒ'}</td>
            <td>${entry.equipmentCheck ? 'âœ…':'âŒ'}</td>
            <td>${entry.cowsOK ? 'âœ…':'âŒ'}</td>
            <td>${entry.horsesOK ? 'âœ…':'âŒ'}</td>
            <td>${entry.chickensOK ? 'âœ…':'âŒ'}</td>
            <td>${entry.sickInjured ? 'âœ…':'âŒ'}</td>
            <td>${entry.allGatesClosed ? 'âœ…':'âŒ'}</td>
            <td>${entry.fencesChecked ? 'âœ…':'âŒ'}</td>
            <td>${entry.noDamage ? 'âœ…':'âŒ'}</td>
            <td>${entry.notes}</td>
        `;
        tbody.appendChild(row);
    });
}

// Reset all data
function resetData() {
    if(confirm("Are you sure you want to delete all history?")) {
        localStorage.removeItem('farmHistory');
        displayHistory();
    }
}

// Clear form
function clearForm() {
    document.querySelectorAll('input[type=checkbox]').forEach(cb => cb.checked = false);
    document.getElementById('notesArea').value = "";
}

// Load history on page load
window.onload = displayHistory;
</script>

</body>
</html>
